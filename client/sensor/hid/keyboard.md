---
id: client-sensor-hid-keyboard
---

# Keyboard Input Sensor

キーボード入力を検知するセンサーです。

ただしこのセンサーは、機能的にはキーロガーになるため、文字系のキーボードに関しては検出を行いません。
詳しくは以下の[キーコード一覧](#キーコード一覧)を参照してください。

このメッセージは、キーの押下状態が変化したときに送信されます。
（定期的に送信されるものではありません。）

ポーリングレートはおよそ 1ms です。
1ms 以内に同時に押された/離されたキーなどがあれば、ふたつ以上のキー bit で変化があります。

## Config

なし

## Data

| key                    | type     | nullable | default         | desc                             |
| ---------------------- | -------- | -------- | --------------- | -------------------------------- |
| _classType             | `string` | no       | `"HIDKeyboard"` | 固定値, `"HIDKeyboard"`             |
| keyCode                | `uint64` | no       | 0               | キー入力状態の bits。押されているキーコードのビット論理和。 |
| cumulativeTimeMillisec | `uint64` | no       | 0               | センサーが稼働しだしてからのタイマー [msec]        |

```json
{
    "_classType": "HIDKeyboard",
    "keyCode": 0,
    "cumulativeTimeMillisec": 0
}
```

## キーコード一覧

表の上から順に, `uint64` の LSB から bit flag が立っています。

| キー                    | value                        |
| --------------------- | ---------------------------- |
| ↑                     | `0x 00 00 00 00 00 00 00 01` |
| ←                     | `0x 00 00 00 00 00 00 00 02` |
| →                     | `0x 00 00 00 00 00 00 00 04` |
| ↓                     | `0x 00 00 00 00 00 00 00 08` |
| Space                 | `0x 00 00 00 00 00 00 00 10` |
| Enter                 | `0x 00 00 00 00 00 00 00 20` |
| F1                    | `0x 00 00 00 00 00 00 00 40` |
| F2                    | `0x 00 00 00 00 00 00 00 80` |
| F3                    | `0x 00 00 00 00 00 00 01 00` |
| F4                    | `0x 00 00 00 00 00 00 02 00` |
| F5                    | `0x 00 00 00 00 00 00 04 00` |
| F6                    | `0x 00 00 00 00 00 00 08 00` |
| F7                    | `0x 00 00 00 00 00 00 10 00` |
| F8                    | `0x 00 00 00 00 00 00 20 00` |
| F9                    | `0x 00 00 00 00 00 00 40 00` |
| F10                   | `0x 00 00 00 00 00 00 80 00` |
| F11                   | `0x 00 00 00 00 00 01 00 00` |
| F12                   | `0x 00 00 00 00 00 02 00 00` |
| Escape                | `0x 00 00 00 00 00 04 00 00` |
| Left Shift            | `0x 00 00 00 00 00 08 00 00` |
| Right Shift           | `0x 00 00 00 00 00 10 00 00` |
| Left Controll         | `0x 00 00 00 00 00 20 00 00` |
| Right Controll        | `0x 00 00 00 00 00 40 00 00` |
| Left Alt              | `0x 00 00 00 00 00 80 00 00` |
| Right Alt             | `0x 00 00 00 00 01 00 00 00` |
| Tab                   | `0x 00 00 00 00 02 00 00 00` |
| PageUp                | `0x 00 00 00 00 04 00 00 00` |
| PageDown              | `0x 00 00 00 00 08 00 00 00` |
| End                   | `0x 00 00 00 00 10 00 00 00` |
| Home                  | `0x 00 00 00 00 20 00 00 00` |
| Insert                | `0x 00 00 00 00 40 00 00 00` |
| Delete                | `0x 00 00 00 00 80 00 00 00` |
| Backspace             | `0x 00 00 00 01 00 00 00 00` |
| Numpad0               | `0x 00 00 00 02 00 00 00 00` |
| Numpad1               | `0x 00 00 00 04 00 00 00 00` |
| Numpad2               | `0x 00 00 00 08 00 00 00 00` |
| Numpad3               | `0x 00 00 00 10 00 00 00 00` |
| Numpad4               | `0x 00 00 00 20 00 00 00 00` |
| Numpad5               | `0x 00 00 00 40 00 00 00 00` |
| Numpad6               | `0x 00 00 00 80 00 00 00 00` |
| Numpad7               | `0x 00 00 01 00 00 00 00 00` |
| Numpad8               | `0x 00 00 02 00 00 00 00 00` |
| Numpad9               | `0x 00 00 04 00 00 00 00 00` |
| (Reserved for Future) | `0x 00 00 08 00 00 00 00 00` |
| (Reserved for Future) | `0x 00 00 10 00 00 00 00 00` |
| (Reserved for Future) | `0x 00 00 20 00 00 00 00 00` |
| (Reserved for Future) | `0x 00 00 40 00 00 00 00 00` |
| (Reserved for Future) | `0x 00 00 80 00 00 00 00 00` |
| (Reserved for Future) | `0x 00 01 00 00 00 00 00 00` |
| (Reserved for Future) | `0x 00 02 00 00 00 00 00 00` |
| (Reserved for Future) | `0x 00 04 00 00 00 00 00 00` |
| (Reserved for Future) | `0x 00 08 00 00 00 00 00 00` |
| (Reserved for Future) | `0x 00 10 00 00 00 00 00 00` |
| (Reserved for Future) | `0x 00 20 00 00 00 00 00 00` |
| (Reserved for Future) | `0x 00 40 00 00 00 00 00 00` |
| (Reserved for Future) | `0x 00 80 00 00 00 00 00 00` |
| (Reserved for Future) | `0x 01 00 00 00 00 00 00 00` |
| (Reserved for Future) | `0x 02 00 00 00 00 00 00 00` |
| (Reserved for Future) | `0x 04 00 00 00 00 00 00 00` |
| (Reserved for Future) | `0x 08 00 00 00 00 00 00 00` |
| (Reserved for Future) | `0x 10 00 00 00 00 00 00 00` |
| (Reserved for Future) | `0x 20 00 00 00 00 00 00 00` |
| (Reserved for Future) | `0x 40 00 00 00 00 00 00 00` |
| (Reserved for Future) | `0x 80 00 00 00 00 00 00 00` |
